{"architecture":"amd64","config":{"User":"app","Env":["PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin","NODE_VERSION=16.13.2","YARN_VERSION=1.22.15","NPM_CONFIG_LOGLEVEL=warn","cgi_headers=true","fprocess=node index.js","mode=http","upstream_url=http://127.0.0.1:3000","exec_timeout=10s","write_timeout=15s","read_timeout=15s","prefix_logs=false"],"Entrypoint":["docker-entrypoint.sh"],"Cmd":["fwatchdog"],"WorkingDir":"/home/app/","Healthcheck":{"Test":["CMD-SHELL","[ -e /tmp/.lock ] || exit 1"],"Interval":3000000000},"ArgsEscaped":true,"OnBuild":null},"created":"2022-01-24T20:48:19.809298964Z","history":[{"created":"2021-11-24T20:19:40.199700946Z","created_by":"/bin/sh -c #(nop) ADD file:9233f6f2237d79659a9521f7e390df217cec49f1a8aa3a12147bbca1956acdb9 in / "},{"created":"2021-11-24T20:19:40.483367546Z","created_by":"/bin/sh -c #(nop)  CMD [\"/bin/sh\"]","empty_layer":true},{"created":"2022-01-11T21:10:35.800958162Z","created_by":"/bin/sh -c #(nop)  ENV NODE_VERSION=16.13.2","empty_layer":true},{"created":"2022-01-11T21:10:51.252835181Z","created_by":"/bin/sh -c addgroup -g 1000 node     \u0026\u0026 adduser -u 1000 -G node -s /bin/sh -D node     \u0026\u0026 apk add --no-cache         libstdc++     \u0026\u0026 apk add --no-cache --virtual .build-deps         curl     \u0026\u0026 ARCH= \u0026\u0026 alpineArch=\"$(apk --print-arch)\"       \u0026\u0026 case \"${alpineArch##*-}\" in         x86_64)           ARCH='x64'           CHECKSUM=\"3ecc84e21b481cd47b10e7ad77512a84a26c18f060efbe41e65e94d48e05bd8c\"           ;;         *) ;;       esac   \u0026\u0026 if [ -n \"${CHECKSUM}\" ]; then     set -eu;     curl -fsSLO --compressed \"https://unofficial-builds.nodejs.org/download/release/v$NODE_VERSION/node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\";     echo \"$CHECKSUM  node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" | sha256sum -c -       \u0026\u0026 tar -xJf \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\" -C /usr/local --strip-components=1 --no-same-owner       \u0026\u0026 ln -s /usr/local/bin/node /usr/local/bin/nodejs;   else     echo \"Building from source\"     \u0026\u0026 apk add --no-cache --virtual .build-deps-full         binutils-gold         g++         gcc         gnupg         libgcc         linux-headers         make         python3     \u0026\u0026 for key in       4ED778F539E3634C779C87C6D7062848A1AB005C       94AE36675C464D64BAFA68DD7434390BDBE9B9C5       74F12602B6F1C4E913FAA37AD3A89613643B6201       71DCFD284A79C3B38668286BC97EC7A07EDE3FC1       8FCCA13FEF1D0C2E91008E09770F7A9A5AE15600       C4F0DFFF4E8C1A8236409D08E73BC641CC11F4C8       C82FA3AE1CBEDC6BE46B9360C43CEC45C17AB93C       DD8F2338BAE7501E3DD5AC78C273792F7D83545D       A48C2BEE680E841632CD4E44F07496B3EB3C1762       108F52B48DB57BB0CC439B2997B01419BD92F80A       B9E2F5981AA6E0CD28160D9FF13993A75599653C     ; do       gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys \"$key\" ||       gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\" ;     done     \u0026\u0026 curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/node-v$NODE_VERSION.tar.xz\"     \u0026\u0026 curl -fsSLO --compressed \"https://nodejs.org/dist/v$NODE_VERSION/SHASUMS256.txt.asc\"     \u0026\u0026 gpg --batch --decrypt --output SHASUMS256.txt SHASUMS256.txt.asc     \u0026\u0026 grep \" node-v$NODE_VERSION.tar.xz\\$\" SHASUMS256.txt | sha256sum -c -     \u0026\u0026 tar -xf \"node-v$NODE_VERSION.tar.xz\"     \u0026\u0026 cd \"node-v$NODE_VERSION\"     \u0026\u0026 ./configure     \u0026\u0026 make -j$(getconf _NPROCESSORS_ONLN) V=     \u0026\u0026 make install     \u0026\u0026 apk del .build-deps-full     \u0026\u0026 cd ..     \u0026\u0026 rm -Rf \"node-v$NODE_VERSION\"     \u0026\u0026 rm \"node-v$NODE_VERSION.tar.xz\" SHASUMS256.txt.asc SHASUMS256.txt;   fi   \u0026\u0026 rm -f \"node-v$NODE_VERSION-linux-$ARCH-musl.tar.xz\"   \u0026\u0026 apk del .build-deps   \u0026\u0026 node --version   \u0026\u0026 npm --version"},{"created":"2022-01-11T21:10:51.842414819Z","created_by":"/bin/sh -c #(nop)  ENV YARN_VERSION=1.22.15","empty_layer":true},{"created":"2022-01-12T00:00:00.638432376Z","created_by":"/bin/sh -c apk add --no-cache --virtual .build-deps-yarn curl gnupg tar   \u0026\u0026 for key in     6A010C5166006599AA17F08146C2130DFD2497F5   ; do     gpg --batch --keyserver hkps://keys.openpgp.org --recv-keys \"$key\" ||     gpg --batch --keyserver keyserver.ubuntu.com --recv-keys \"$key\" ;   done   \u0026\u0026 curl -fsSLO --compressed \"https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz\"   \u0026\u0026 curl -fsSLO --compressed \"https://yarnpkg.com/downloads/$YARN_VERSION/yarn-v$YARN_VERSION.tar.gz.asc\"   \u0026\u0026 gpg --batch --verify yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz   \u0026\u0026 mkdir -p /opt   \u0026\u0026 tar -xzf yarn-v$YARN_VERSION.tar.gz -C /opt/   \u0026\u0026 ln -s /opt/yarn-v$YARN_VERSION/bin/yarn /usr/local/bin/yarn   \u0026\u0026 ln -s /opt/yarn-v$YARN_VERSION/bin/yarnpkg /usr/local/bin/yarnpkg   \u0026\u0026 rm yarn-v$YARN_VERSION.tar.gz.asc yarn-v$YARN_VERSION.tar.gz   \u0026\u0026 apk del .build-deps-yarn   \u0026\u0026 yarn --version"},{"created":"2022-01-12T00:00:00.874016756Z","created_by":"/bin/sh -c #(nop) COPY file:4d192565a7220e135cab6c77fbc1c73211b69f3d9fb37e62857b2c6eb9363d51 in /usr/local/bin/ "},{"created":"2022-01-12T00:00:01.069551206Z","created_by":"/bin/sh -c #(nop)  ENTRYPOINT [\"docker-entrypoint.sh\"]","empty_layer":true},{"created":"2022-01-12T00:00:01.254498546Z","created_by":"/bin/sh -c #(nop)  CMD [\"node\"]","empty_layer":true},{"created":"2022-01-23T05:27:28.410926Z","created_by":"ARG TARGETPLATFORM","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-23T05:27:28.410926Z","created_by":"ARG BUILDPLATFORM","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-23T05:27:28.410926Z","created_by":"COPY /fwatchdog /usr/bin/fwatchdog # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:28.7497408Z","created_by":"RUN |2 TARGETPLATFORM=linux/amd64 BUILDPLATFORM=linux/amd64 /bin/sh -c chmod +x /usr/bin/fwatchdog # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:33.3158123Z","created_by":"RUN |2 TARGETPLATFORM=linux/amd64 BUILDPLATFORM=linux/amd64 /bin/sh -c apk --no-cache add curl ca-certificates     \u0026\u0026 addgroup -S app \u0026\u0026 adduser -S -g app app # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:33.3158123Z","created_by":"ENV NPM_CONFIG_LOGLEVEL=warn","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-23T05:27:33.6253272Z","created_by":"RUN |2 TARGETPLATFORM=linux/amd64 BUILDPLATFORM=linux/amd64 /bin/sh -c chmod 777 /tmp # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:33.6253272Z","created_by":"USER app","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-23T05:27:34.0532738Z","created_by":"RUN |2 TARGETPLATFORM=linux/amd64 BUILDPLATFORM=linux/amd64 /bin/sh -c mkdir -p /home/app/function # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:34.0734455Z","created_by":"WORKDIR /home/app","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:34.0923757Z","created_by":"COPY package.json ./ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:39.4101128Z","created_by":"RUN |2 TARGETPLATFORM=linux/amd64 BUILDPLATFORM=linux/amd64 /bin/sh -c npm i # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:39.4334484Z","created_by":"COPY index.js ./ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-23T05:27:39.4613007Z","created_by":"WORKDIR /home/app/function","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-24T18:13:56.889969479Z","created_by":"COPY function/*.json ./ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-24T18:13:57.682450557Z","created_by":"RUN |2 TARGETPLATFORM=linux/amd64 BUILDPLATFORM=linux/amd64 /bin/sh -c npm i # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-24T20:48:19.094126818Z","created_by":"COPY function/ ./ # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-24T20:48:19.788137794Z","created_by":"RUN |2 TARGETPLATFORM=linux/amd64 BUILDPLATFORM=linux/amd64 /bin/sh -c npm test # buildkit","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"WORKDIR /home/app/","comment":"buildkit.dockerfile.v0"},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV cgi_headers=true","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV fprocess=node index.js","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV mode=http","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV upstream_url=http://127.0.0.1:3000","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV exec_timeout=10s","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV write_timeout=15s","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV read_timeout=15s","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"ENV prefix_logs=false","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"HEALTHCHECK \u0026{[\"CMD-SHELL\" \"[ -e /tmp/.lock ] || exit 1\"] \"3s\" \"0s\" \"0s\" '\\x00'}","comment":"buildkit.dockerfile.v0","empty_layer":true},{"created":"2022-01-24T20:48:19.809298964Z","created_by":"CMD [\"fwatchdog\"]","comment":"buildkit.dockerfile.v0","empty_layer":true}],"os":"linux","rootfs":{"type":"layers","diff_ids":["sha256:8d3ac3489996423f53d6087c81180006263b79f206d3fdec9e66f0e27ceb8759","sha256:e12889c39beb226288364c5f65e3a8d79e1e73da47893d72a70029019f4f4225","sha256:407c3ac1f7e9f798fcb91823b97adfd7dec5dfc20816e18ef18d8051e39c25e0","sha256:dff5b20a51e8249fce4f0037aac105048a661293c9b7e583723a49e8d2ab8db8","sha256:abbc87708e1f955acdc6799e0fb462bac67a366860e3562b316a587461b4440e","sha256:c74a4cb006f28c9e4eaad63beb230a397629edb9279298924c18b83f95bb4b79","sha256:44bf14cf712f73745e99411be9fc503bd7801684c977f25eadd962cc84a90334","sha256:7c97b5cd2acbdf269e2a0aa805d854ee088b99b0d36aecb3b3d8377152aa9795","sha256:0e07cc3caa8410147d8add2bd7e4ecef90d4bd47e40e1cf77a6533580f176478","sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef","sha256:e79a389ff0218e41cbfa32c1f51bebb541cdcb48f88c0e3687ff43cd305ecc88","sha256:b7196f68f457ab8aa9fc2702f9efb78cc142c748f2e43c28a6a3d57197e68996","sha256:5feb9e1524e001078334ab70a7dfc98a6253a35aa0680278fd11586d441ed77a","sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef","sha256:8f2c385b9d2b0cdee3aee79730487f76fa69b78a8d2effb9724cdd7d37fa0b0c","sha256:9f47445e663f5598fa98976a4364b7f2938728a45e9745ebad96770076a2ff43","sha256:56aa77908fd58b8317bb5956b631baff947bf83f367c09f067b09a12a5c5a598","sha256:3b41c8c46530b6214909e0c5244a7b8ad9be692b64ed525be2d4eea3d78599c8","sha256:5f70bf18a086007016e948b04aed3b82103a36bea41755b6cddfaf10ace3c6ef"]}}